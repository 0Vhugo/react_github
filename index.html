<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <title>Jquery</title>
</head>
<body class="bg-dark">


    <div class="main-container">
        <h1 class="text-light text-center m-4">Manipulação de elementos</h1>

        <div class="container d-flex col">
        <div class="card m-2 ">
                <div class="card" id="lorem-text-1">
                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. Facere asperiores corrupti deleniti! Magnam animi delectus dignissimos distinctio dicta non iusto necessitatibus deleniti nam fugit, sequi laborum deserunt reiciendis suscipit incidunt.
                nda praesent voluptatibus inventore quisquam? Reprehenderit saepe nostrum minima.
                </div>
                <button class="btn btn-primary">Mudar texto!</button>
        </div>
        <div class="card m-2">
            <h2>Adicionar elementos HTML</h2>
                <div class="card text-primary" id="lorem-text-1">
                    Lorem ipsum, dolor sit amet consectetur adipisicing elit. n iusto necessitatibus deleniti nam fugit, sequi laborum deserunt reiciendis suscipit incidunt.
                e, natus doloribus expedita. Vero reprehenderit voluptatibus inventore quisquam? Reprehenderit saepe nostrum minima.
                </div>
        </div>
        
        </div>
        <div class="container">
            <h1 class="text-light text-center m-4">Manipulação de textos - clique nos textos</h1>
            <div class="card m-2">
                <h2>Concatenar textos </h2>
                <div class="card text-secondary" >
                    O Curso <strong>TGPSI é... </strong> 
                </div>
                <div class="card text-warning" >
                    Audaces Fortuna Juvat
                </div>
            </div>
        </div>
        <div class="container">
            <h1 class="text-light text-center m-4">Manipulação de classes CSS </h1>
            <div class="bg-warning p-3"> </div>
            <button class="btn btn-outline-primary mt-2">adicionar classe!</button>
            <button class="btn btn-outline-secondary mt-2">remover classe!</button>
            <button class="btn btn-outline-success mt-2">alterna entre classe!</button>
        </div>
    </div>

    
    <div class="container mt-5">
        <button class="btn btn-primary btn-fetch">Obtém dados da API Json placeholder</button>
        <table class="table">
            <thead>
              <tr>
                <th class="text-white" scope="col">#</th>
                <th class="text-white" scope="col">Nome</th>
                <th class="text-white" scope="col">Email</th>
                <th class="text-white" scope="col">Nome de utilizador</th>
              </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
        </table>
    </div>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
</body>
</html>
<script >
//syntax do jquery é o sinal de dolar seguindo com os parenteses $(). Este é o nosso seletor, com ele é possível aceder os elementos na página

//declaração de funções em Jquery
$(document).ready(()=> {

    //declaração de evento click com botão
    $('.btn').click(() => {
        //adiciona texto ao elemento
        $("#lorem-text-1").text("texto alterado com jquery!!");
    });

    //declaração de evento click com botão
    $('.text-primary').click(() => {

        //adição de html na página
        $(".text-primary").html(`<p>É querer estar preso por vontade;
                    É servir a quem vence,<b> o vencedor</b>;
                    É ter com quem nos mata lealdade.</p> - Camões`);
    });

    //declaração de evento click com botão
    $('.text-secondary').click(() => {

        //concatenação depois do texto
        $(".text-secondary").append("O melhor em Lisboa!!");
    });

    //declaração de evento click com botão
    $('.text-warning').click(() => {

        //concatenação antes do texto
        $(".text-warning").prepend("<b>A Sorte protege os audazes!</b>");
    });

    //declaração de evento click com botão
    $('.btn-outline-primary').click(() => {

        //adição de classe no elemento
        $(".bg-warning").addClass("bg-danger");
    });

    //declaração de evento click com botão
    $('.btn-outline-secondary').click(() => {

        //remove classe do elemento
        $(".bg-warning").removeClass("bg-danger");
    });

    //declaração de evento click com botão
    $('.btn-outline-success').click(() => {

        //alterna classe do elemento
        $(".bg-warning").toggleClass("bg-danger");
    });

     //botão de click para acionar o ajax
    $('.btn-fetch').click(() => { //todo acabar ajax
        
        //efetua o pedido a api e mostra os dados
        $.get({
            url: "https://jsonplaceholder.typicode.com/users",  //url para comunicação
            success: (response) => {                            //caso tenha sucesso executa este bloco
                
                //itera pelo array da response e prepara para criar na tabela
                response.forEach( (user) => {
                    buildTable(user);                           //cria os elementos na tabela
                })
            },
            error: (error) => {                                 //caso tenha erro executa este bloco
                console.error(error)
            }
        });
    });

    /***
     * Cria tabela
     * @param user - Utilizador a construir na tabela
     * 
     */
    function buildTable(user) {
        
        //pega o elemento tbody da tabela
        let list = document.querySelector('#table-body');

        //create element - Função que permite criar uma instância do elemento
        //passado no parâmetro de entrada 
        const row = document.createElement('tr');
        
         //construção da lista dentro da tag tbody
         row.innerHTML = `
            <td class="text-white">${user.id}</td>
            <td class="text-white">${user.name}</td>
            <td class="text-white">${user.email}</td>
            <td class="text-white">${user.username}</td>
        `;

        //adiciona o elemento filho ao elemento pai que 
        //foi criado anteriormente (tr)
        list.appendChild(row);
    }
});
</script>